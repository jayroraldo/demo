<!DOCTYPE html>
<html>
<head>
<script src="jquery-3.3.1.js" type="text/javascript"></script>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons"
	rel="stylesheet" />
<link type="text/css" rel="stylesheet" href="css/materialize.min.css"
	media="screen,projection" />
<script type="text/javascript" src="js/bootstrap.js"></script>
<link rel="stylesheet" href="css/bootstrap.min.css" />


<meta charset="ISO-8859-1" />

<title>Insert title here</title>

<script type="text/javascript">
	$(window).ready(function() {
						$.ajax({
							
							type : 'GET',
							url : 'http://localhost:8089/userinfo/find',
							dataType : 'json',
							success : function(data) {
								console.log(data);
								var user_data = '';
								$.each(data.USERS,function(i, users) {
								console.log('list of users-----------------------'+ users);
								user_data += '<tr>';
								user_data += '<td>'+ users.id+ '</td>';
								user_data += '<td>'+ users.firstName+ '</td>';
								user_data += '<td>'+ users.lastName+ '</td>';
						 		user_data += '<td>'+ users.userName+ '</td>';
								user_data += '<td>'+ users.email+'</td>';
								user_data += '<td>'+ users.accessType+ '</td>';
								user_data += '<td> <button class="btn" data-toggle="modal" data-target="#updateUser">EDIT</button></td>';
								user_data += '<td> <button class="btn">DELETE</button></td>';
								user_data += '</tr>';
							});
								
								$('#userTable').append(user_data);
						},
							error : function(data) {
										alert("4");
									}

								});
						
						
						$("#update").on("click",function(){
							alert('-----------------------------------------------------');
							
						});
						
						$("#createUser").on("click",function(){
							alert('-----------------------------------------------------');
							
						});

					});

</script>
</head>
<body>

	<a class="btn-primary btn-lg active"
		href="http://localhost:8080/createpage">Add User</a>
		<button id="createUser" class="btn" data-toggle="modal" data-target="#updateUser">ADD USER</button>


	<table class="table">
		<thead>
			<tr>
				<th scope="col">ID</th>
				<th scope="col">First Name</th>
				<th scope="col">Last Name</th>
				<th scope="col">Username</th>
				<th scope="col">Email</th>
				<th scope="col">Access Type</th>
			</tr>
		</thead>
		<tbody id="userTable">
		</tbody>
	</table>

	<div class="modal fade" id="updateUser" tabindex="-1" role="dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h3 class="modal-title">Update User</h3>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">

					 <div class="input-field col s6">
			          <input id="first_name" type="text" class="validate"/>
			          <label for="first_name">First Name</label>
			        </div>
			        <div class="input-field col s6">
			          <input id="last_name" type="text" class="validate"/>
			          <label for="last_name">Last Name</label>
			        </div>
			        <div class="input-field col s6">
			          <input id="user_name" type="text" class="validate"/>
			          <label for="user_name">Username</label>
			        </div>
			        <div class="input-field col s6">
			          <input id="password" type="text" class="validate"/>
			          <label for="password">Password</label>
			        </div>
			        <div class="input-field col s6">
			          <input id="email" type="text" class="validate"/>
			          <label for="email">Email</label>
			        </div>
			        <div class="input-field col s6">
			          <input id="accessType" type="text" class="validate"/>
			          <label for="accessType">Access Type</label>
			        </div>

				<button id="update" type="button" class="btn btn-primary">Save changes</button>
			</div>
		</div>
	</div>
	<script type="text/javascript" src="js/materialize.min.js"></script>
</body>
</html>